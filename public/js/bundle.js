/** * webrtc * @version v0.0.1 */!function e(o,t,n){function r(c,a){if(!t[c]){if(!o[c]){var u="function"==typeof require&&require;if(!a&&u)return u(c,!0);if(i)return i(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var l=t[c]={exports:{}};o[c][0].call(l.exports,function(e){var t=o[c][1][e];return r(t?t:e)},l,l.exports,e,o,t,n)}return t[c].exports}for(var i="function"==typeof require&&require,c=0;c<n.length;c++)r(n[c]);return r}({1:[function(e){function o(e){var o=document.getElementById("remote"+e);video&&(n.splice(n.indexOf(o),1),o.parentNode.removeChild(o))}var t=e("./suma"),n=[],r=window.PeerConnection||window.webkitPeerConnection00||window.webkitRTCPeerConnection||window.mozRTCPeerConnection||window.RTCPeerConnection,i=document.querySelector('[data-video="local"]'),c=document.querySelector('[data-video="remote"]'),a=window.location,u={video:{mandatory:{},optional:[]},audio:!0};!function(){console.log(t(1,2)),r?rtc.createStream(u,function(e){i.src=URL.createObjectURL(e),i.play()}):alert("Tu navegador no soporta WebRTC :(");var e=a.hash.slice(1);rtc.connect("ws:"+a.href.substring(a.protocol.length).split("#")[0],e),rtc.on("add remote stream",function(e,o){console.log(">>> Adding Remote Stream..."),c.id="remote"+o,n.push(c),document.getElementById(c.id).setAttribute("class",""),rtc.attachStream(e,c.id)}),rtc.on("disconnect stream",function(e){console.log(">>> Remove "+e),o(e)})}()},{"./suma":2}],2:[function(e,o){var t=function(e,o){return e+o};o.exports=t},{}]},{},[1]);